import{a as S,c as E,d as _,e as D,f as w,g as G}from"./chunk-TJ47WGUZ.js";import"./chunk-VJTDYSTP.js";import{h as y,m as A,n as P,q as F}from"./chunk-L5OGXQMQ.js";import"./chunk-XF72QY6E.js";import"./chunk-EASIRJ4U.js";import{h as C}from"./chunk-WSMOFY2K.js";import"./chunk-BBKJABDB.js";import{b as v}from"./chunk-MXRN7HCD.js";import"./chunk-KXL5EQGM.js";import"./chunk-BRW5PN7X.js";import"./chunk-76VAZDLT.js";import"./chunk-F2ZN6CEH.js";import{$ as i,Bb as r,Cb as f,Db as b,Ib as g,Ub as h,Wa as c,gb as l,nc as n,tb as d,ub as u,va as m}from"./chunk-3ITZAFYR.js";import{a as p,b as s}from"./chunk-VOSPIT4N.js";var N=class a{store=i(v);router=i(C);snackBar=i(S);id=m.required();applicant=n(()=>this.store.get(this.id()));form=n(()=>new E(this.applicant()));async submit(){if(this.form().invalid){this.form().markAllAsTouched();return}try{await this.store.update(s(p({},this.form().getRawValue()),{id:this.id()})),this.router.navigate(["blast-off"])}catch(t){console.error(t),t.code==="23505"&&this.snackBar.open("Application already exists","Close",{verticalPosition:"top",horizontalPosition:"end",duration:5e3})}}static \u0275fac=function(o){return new(o||a)};static \u0275cmp=l({type:a,selectors:[["iisa-edit-application-form"]],hostAttrs:[1,"place-items-center","p-8","*:max-w-lg","text-balance","place-self-center"],inputs:{id:[1,"id"]},decls:7,vars:3,consts:[[1,"grid","gap-4",3,"submit","formGroup"],[1,"contents"],["type","submit",1,"button","button__bold","place-self-center","capitalize"]],template:function(o,e){o&1&&(r(0,"form",0),g("submit",function(){return e.submit()}),b(1,"iisa-astronaut-identity",1)(2,"iisa-communication-protocols",1)(3,"iisa-personal-orbit",1)(4,"iisa-personal-statement",1),r(5,"button",2),h(6," Save Changes "),f()()),o&2&&(d("formGroup",e.form()),c(5),u("opacity-50",e.form().invalid))},dependencies:[F,A,y,P,_,D,w,G],encapsulation:2,changeDetection:0})};export{N as EditApplicationFormComponent};
