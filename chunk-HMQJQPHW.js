import{c as E,e as F,f as k,g as D,h as w,i as x}from"./chunk-TXZMUDSZ.js";import"./chunk-B4IAF2XQ.js";import"./chunk-FPUMVLVL.js";import{h as A,m as P,n as S,q as _}from"./chunk-XUFMSWSR.js";import"./chunk-L3DG3WHE.js";import{m as C,n as v}from"./chunk-AWI4RNP5.js";import{a as y}from"./chunk-WJXPDO33.js";import"./chunk-CG2L66EC.js";import"./chunk-76VAZDLT.js";import{Db as i,Eb as n,Fb as b,Kb as h,Wb as a,Ya as u,ba as o,ib as d,oc as p,vb as f,wb as g,xa as c}from"./chunk-GMDBLYL5.js";import{a as m,b as l}from"./chunk-VOSPIT4N.js";var G=class s{store=o(y);router=o(C);snackBar=o(E);id=c.required();applicant=p(()=>this.store.get(this.id()));form=p(()=>new F(this.applicant()));async submit(){if(this.form().invalid){this.form().markAllAsTouched();return}try{await this.store.update(l(m({},this.form().getRawValue()),{id:this.id()})),this.router.navigate(["blast-off"])}catch(t){console.error(t),t.code==="23505"&&this.snackBar.open("Application already exists","Close",{verticalPosition:"top",horizontalPosition:"end",duration:5e3})}}static \u0275fac=function(e){return new(e||s)};static \u0275cmp=d({type:s,selectors:[["iisa-edit-application-form"]],hostAttrs:[1,"place-items-center","p-8","*:max-w-lg","text-balance","place-self-center"],inputs:{id:[1,"id"]},decls:10,vars:3,consts:[[1,"grid","gap-4",3,"submit","formGroup"],[1,"contents"],[1,"flex","gap-2"],["type","submit",1,"button","button__bold","place-self-center","capitalize"],["routerLink","",1,"button","button__light","place-self-center","capitalize"]],template:function(e,r){e&1&&(i(0,"form",0),h("submit",function(){return r.submit()}),b(1,"iisa-astronaut-identity",1)(2,"iisa-communication-protocols",1)(3,"iisa-personal-orbit",1)(4,"iisa-personal-statement",1),i(5,"section",2)(6,"button",3),a(7," Save Changes "),n(),i(8,"a",4),a(9," Cancel "),n()()()),e&2&&(f("formGroup",r.form()),u(6),g("opacity-50",r.form().invalid))},dependencies:[_,P,A,S,k,D,w,x,v],encapsulation:2,changeDetection:0})};export{G as EditApplicationFormComponent};
