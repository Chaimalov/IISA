import{a as _,c as E,d as F,e as D,f as w,g as x}from"./chunk-P22E2EYJ.js";import"./chunk-7VH4RZJV.js";import"./chunk-5QTOC5SA.js";import{h as v,m as A,n as P,q as S}from"./chunk-7KVWT5BW.js";import"./chunk-6SH2L6W7.js";import{h as C}from"./chunk-5H4P2GIV.js";import{a as y}from"./chunk-5LPPQFG3.js";import"./chunk-KV5MGI35.js";import"./chunk-76VAZDLT.js";import"./chunk-I5QANMXJ.js";import{Db as i,Eb as n,Fb as g,Kb as h,Wb as a,Ya as u,ba as e,ib as d,pc as p,vb as f,wb as b,xa as c}from"./chunk-CC57EX7L.js";import{a as m,b as l}from"./chunk-VOSPIT4N.js";var G=class s{store=e(y);router=e(C);snackBar=e(_);id=c.required();applicant=p(()=>this.store.get(this.id()));form=p(()=>new E(this.applicant()));async submit(){if(this.form().invalid){this.form().markAllAsTouched();return}try{await this.store.update(l(m({},this.form().getRawValue()),{id:this.id()})),this.router.navigate(["blast-off"])}catch(t){console.error(t),t.code==="23505"&&this.snackBar.open("Application already exists","Close",{verticalPosition:"top",horizontalPosition:"end",duration:5e3})}}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=d({type:s,selectors:[["iisa-edit-application-form"]],hostAttrs:[1,"place-items-center","p-8","*:max-w-lg","text-balance","place-self-center"],inputs:{id:[1,"id"]},decls:10,vars:3,consts:[[1,"grid","gap-4",3,"submit","formGroup"],[1,"contents"],[1,"flex","gap-2"],["type","submit",1,"button","button__bold","place-self-center","capitalize"],["type","submit",1,"button","button__light","place-self-center","capitalize"]],template:function(o,r){o&1&&(i(0,"form",0),h("submit",function(){return r.submit()}),g(1,"iisa-astronaut-identity",1)(2,"iisa-communication-protocols",1)(3,"iisa-personal-orbit",1)(4,"iisa-personal-statement",1),i(5,"section",2)(6,"button",3),a(7," Save Changes "),n(),i(8,"button",4),a(9," Cancel "),n()()()),o&2&&(f("formGroup",r.form()),u(6),b("opacity-50",r.form().invalid))},dependencies:[S,A,v,P,F,D,w,x],encapsulation:2,changeDetection:0})};export{G as EditApplicationFormComponent};
