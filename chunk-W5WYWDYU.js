import{c as E,e as F,f as k,g as D,h as w,i as x}from"./chunk-LVEDUFQD.js";import"./chunk-4PTBZ647.js";import"./chunk-ZIKF4TLY.js";import{h as A,m as P,n as S,q as _}from"./chunk-4KP7GVWE.js";import"./chunk-YXI347UC.js";import{i as C,j as v}from"./chunk-LHME33LD.js";import{a as y}from"./chunk-5LPPQFG3.js";import"./chunk-KV5MGI35.js";import"./chunk-76VAZDLT.js";import"./chunk-I5QANMXJ.js";import{Db as i,Eb as n,Fb as g,Kb as h,Wb as a,Ya as u,ba as e,ib as d,pc as p,vb as f,wb as b,xa as c}from"./chunk-CC57EX7L.js";import{a as m,b as l}from"./chunk-VOSPIT4N.js";var G=class s{store=e(y);router=e(C);snackBar=e(E);id=c.required();applicant=p(()=>this.store.get(this.id()));form=p(()=>new F(this.applicant()));async submit(){if(this.form().invalid){this.form().markAllAsTouched();return}try{await this.store.update(l(m({},this.form().getRawValue()),{id:this.id()})),this.router.navigate(["blast-off"])}catch(t){console.error(t),t.code==="23505"&&this.snackBar.open("Application already exists","Close",{verticalPosition:"top",horizontalPosition:"end",duration:5e3})}}static \u0275fac=function(o){return new(o||s)};static \u0275cmp=d({type:s,selectors:[["iisa-edit-application-form"]],hostAttrs:[1,"place-items-center","p-8","*:max-w-lg","text-balance","place-self-center"],inputs:{id:[1,"id"]},decls:10,vars:3,consts:[[1,"grid","gap-4",3,"submit","formGroup"],[1,"contents"],[1,"flex","gap-2"],["type","submit",1,"button","button__bold","place-self-center","capitalize"],["routerLink","",1,"button","button__light","place-self-center","capitalize"]],template:function(o,r){o&1&&(i(0,"form",0),h("submit",function(){return r.submit()}),g(1,"iisa-astronaut-identity",1)(2,"iisa-communication-protocols",1)(3,"iisa-personal-orbit",1)(4,"iisa-personal-statement",1),i(5,"section",2)(6,"button",3),a(7," Save Changes "),n(),i(8,"a",4),a(9," Cancel "),n()()()),o&2&&(f("formGroup",r.form()),u(6),b("opacity-50",r.form().invalid))},dependencies:[_,P,A,S,k,D,w,x,v],encapsulation:2,changeDetection:0})};export{G as EditApplicationFormComponent};
